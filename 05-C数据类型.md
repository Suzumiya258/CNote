# C数据类型

C语言中，数据类型指的是变量或函数的一个属性，变量的类型决定了变量存储所占用的空间以及存储位模式的解释方式，函数的类型则决定函数返回值类型。

C中的数据类型可以分为以下几种：

- 基本类型：属于算术类型，包括证书类型和浮点类型。
- 枚举类型：属于算术类型，用来定义程序中只能赋予其一定的离散整数值的变量。
- void类型：void类型表示没有可用的值。
- 派生类型：派生类型包括——指针类型、数组类型、结构类型、共用体类型和函数类型。

数组类型和结构类型统称为聚合类型，函数的类型指的是函数返回值的类型。



## 整数类型

C语言中的整数类型包括`unsigned`和`signed`两种模式。其中`unsigned`代表没有符号，`signed`则代表有符号。

| 类型           | 存储大小    | 值范围                                               |
| :------------- | :---------- | :--------------------------------------------------- |
| char           | 1 字节      | -128 到 127 或 0 到 255                              |
| unsigned char  | 1 字节      | 0 到 255                                             |
| signed char    | 1 字节      | -128 到 127                                          |
| int            | 2 或 4 字节 | -32,768 到 32,767 或 -2,147,483,648 到 2,147,483,647 |
| unsigned int   | 2 或 4 字节 | 0 到 65,535 或 0 到 4,294,967,295                    |
| short          | 2 字节      | -32,768 到 32,767                                    |
| unsigned short | 2 字节      | 0 到 65,535                                          |
| long           | 4 字节      | -2,147,483,648 到 2,147,483,647                      |
| unsigned long  | 4 字节      | 0 到 4,294,967,295                                   |

注意，各种类型的存储大小和系统位数有关，但目前通用的以64位系统为主。下图列出了32位系统和64位系统的区别：

<img src="img/32-64.jpg" style="float:left" />

为了得到某个类型或者某个变量在特定平台上的准确大小，可以使用`sizeof`运算符。下面的实例演示了获取int类型大小的方式：

~~~c
#include <stdio.h>
#include <limits.h>
 
int main()
{
   printf("int 存储大小 : %lu \n", sizeof(int));
   
   return 0;
}
~~~

其中，`%lu`为32为无符号整数，详细内容可以参考[C库函数-printf()](https://www.runoob.com/cprogramming/c-function-printf.html)。



## 浮点类型

| 类型        | 存储大小 | 值范围                 | 精度        |
| :---------- | :------- | :--------------------- | :---------- |
| float       | 4 字节   | 1.2E-38 到 3.4E+38     | 6 位有效位  |
| double      | 8 字节   | 2.3E-308 到 1.7E+308   | 15 位有效位 |
| long double | 16 字节  | 3.4E-4932 到 1.1E+4932 | 19 位有效位 |

头文件`float.h`定义了宏，在程序中可以使用这些值和其他有关实数二进制表示的细节（例如下面的`FLT_MIN`等就是`float.h`中预定义的常量）。

下面的示例将会输出浮点类型占用的存储空间以及它的范围值。

~~~c
#include <stdio.h>
#include <float.h>
 
int main()
{
   printf("float 存储最大字节数 : %lu \n", sizeof(float));
   printf("float 最小值: %E\n", FLT_MIN );
   printf("float 最大值: %E\n", FLT_MAX );
   printf("精度值: %d\n", FLT_DIG );
   
   return 0;
}
~~~

`%E`代表以指数形式输出单、双精度实数。



## void类型

void类型说明没有可用的值，它通常用于以下三种情况上：

| 序号 | 类型与描述                                                   |
| :--- | :----------------------------------------------------------- |
| 1    | **函数返回为空** C 中有各种函数都不返回值，或者您可以说它们返回空。不返回值的函数的返回类型为空。例如 **void exit (int status);** |
| 2    | **函数参数为空** C 中有各种函数不接受任何参数。不带参数的函数可以接受一个 void。例如 **int rand(void);** |
| 3    | **指针指向 void** 类型为 void * 的指针代表对象的地址，而不是类型。例如，内存分配函数 **void \*malloc( size_t size );** 返回指向 void 的指针，可以转换为任何数据类型。 |
